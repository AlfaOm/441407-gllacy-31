const siteWrapper=document.querySelector(".site-wrapper"),slides=document.querySelectorAll(".slider-item"),buttons=document.querySelectorAll(".slider-controls button");let currentSlide=document.querySelector(".slide-current"),currentBtn=document.querySelector(".slider-controls button.current");const changeCurrentSlide=e=>{currentSlide.classList.remove("slide-current"),slides[e].classList.add("slide-current"),currentSlide=slides[e],currentBtn.classList.remove("current"),buttons[e].classList.add("current"),currentBtn=buttons[e],siteWrapper.className="site-wrapper site-wrapper-"+(e+1)};for(let o=0;o<slides.length;o++)buttons[o].addEventListener("click",e=>{e.preventDefault(),e.target!==currentBtn&&changeCurrentSlide(o)});let feedback=document.querySelector(".button-feedback"),modal=document.querySelector(".modal-wrapper"),modalShadow=document.querySelector(".modal-shadow"),modalClose=modal.querySelector(".modal-close"),modalForm=modal.querySelector("form"),modalLogin=modal.querySelector("[name=login]"),modalEmail=modal.querySelector("[name=email]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}feedback.addEventListener("click",function(e){e.preventDefault(),modal.classList.add("modal-show"),modalShadow.classList.add("modal-shadow-on"),storage?(modalLogin.value=storage,modalEmail.focus()):modalLogin.focus()}),modalClose.addEventListener("click",function(e){e.preventDefault(),modal.classList.remove("modal-show"),modal.classList.remove("modal-error"),modalShadow.classList.remove("modal-shadow-on")}),modalForm.addEventListener("submit",function(e){modalLogin.value&&modalEmail.value?isStorageSupport&&localStorage.setItem("login",modalLogin.value):(e.preventDefault(),modal.classList.remove("modal-error"),modal.offsetWidth=modal.offsetWidth,modal.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modal.classList.contains("modal-show")&&(modal.classList.remove("modal-show"),modal.classList.remove("modal-error"),modalShadow.classList.remove("modal-shadow-on")))});
